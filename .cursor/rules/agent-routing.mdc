---
description: Route tasks to the right agent; apply agent instructions when the task matches. Single entry point for Orchestrator vs LBI vs verification-only.
alwaysApply: true
---

# Agent Routing

Before answering: (1) Choose path from Entry point below. (2) If a Trigger matches, read that agent file in full. (3) Then answer.

**Single entry.** This file is the single entry. At session start, read this file in full first. It provides path choice (Entry point) and trigger→agent mapping (Triggers). Then read [.cursor/agent/SYSTEM-MESSAGE.md](.cursor/agent/SYSTEM-MESSAGE.md) for default behavior. When a trigger matches, read the linked agent file in full before acting.

**Session behavior.** On first reply in a session, state: Path: [1|2|3], Agent: [name or none].

## Triggers

- **UI/UX, design docs, new screens, design-system, layout or hierarchy** → read and follow `.cursor/agent/AGENT-UI-UX-DESIGNER.md`.
- **Writing or editing system prompts, designing or reviewing agents, improving orchestrator flows** → read and follow `.cursor/agent/AGENT-META-SYSTEMS-ENGINEER.md`.
- **Full project lifecycle, research, PRD, epics, or "start from idea"** → read and follow `.cursor/agent/MASTER-ORCHESTRATOR.md`.
- **Tests, lint, format, or build failing; or user asks to fix until green, get tests passing, fix failing tests, or fix verification** → read and follow [.cursor/agent/META-AGENT.md](.cursor/agent/META-AGENT.md).

## Entry point (when to use what)

Full decision table: [.cursor/agent/START-HERE.md](.cursor/agent/START-HERE.md).

- **Full project / new product / research / "from idea"** → MASTER-ORCHESTRATOR (`.cursor/agent/MASTER-ORCHESTRATOR.md`).
- **Feature or small change in existing codebase** → LBI (`.cursor/rules/lbi-workflow.mdc`); use lite workflow when appropriate.
- **One-off (config, single fix, no feature)** → Verification only (verifiable-engineering); no orchestrator or full LBI.

If verification (tests/lint/format/build) fails at any point, follow [.cursor/agent/META-AGENT.md](.cursor/agent/META-AGENT.md) until green, then resume the current path.

If no trigger matches, use only the path above (1, 2, or 3); do not read a specialist agent.

## After editing agent or routing

After editing any file in `.cursor/agent/` or `agent-routing.mdc` or `verifiable-engineering.mdc`, run the checklist in [.cursor/agent/AGENT-SYSTEM-VERIFICATION.md](.cursor/agent/AGENT-SYSTEM-VERIFICATION.md) until 100% pass.
